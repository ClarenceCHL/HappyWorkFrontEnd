# Happy Work 应用前端

## 项目简介

Happy Work是一个帮助用户应对职场PUA（心理虐待）的Web应用。该应用提供了模拟情境对话和解决方案指导两种模式，帮助用户学习如何应对职场中的PUA行为，并提供个性化的人设战略报告。

## 主要功能

### 1. 用户认证系统
- 用户注册：通过邮箱验证码注册新账户
- 用户登录：支持密码登录和验证码登录
- 密码修改：已登录用户可修改密码
- 安全登出：用户可安全退出账户

### 2. PUA情境处理
- **模拟对话模式**：模拟PUA情境下的对话，帮助用户练习应对技巧
- **解决方案模式**：针对用户描述的PUA情境提供专业解决方案和建议

### 3. 聊天系统
- 实时对话：与AI助手进行实时对话
- 打字机效果：AI回复采用打字机效果增强用户体验
- 图片上传：支持在对话中上传和展示图片
- 聊天历史：查看和管理历史对话记录

### 4. 问卷调查系统
- 多部分问卷：包含职场心理与PUA风险评估、当前人设与期望人设、情境与高人智慧捕捉等多个部分
- 多种题型：支持单选题、多选题和开放式问答题
- 进度显示：清晰的问卷进度条
- 结果分析：基于问卷结果生成个性化报告

### 5. 个性化报告系统
- 定制化报告：基于用户问卷答案生成定制化的《人设战略破局职场PUA》报告
- 报告预览：在线预览生成的报告内容
- 打印/保存：支持将报告打印或保存为PDF格式
- 报告重生成：支持重新生成报告

### 6. 付费功能管理
- 付费功能解锁：通过多种支付方式解锁高级功能
- 限时免费：支持限时免费访问高级功能
- 支付流程：简洁明了的支付流程指引
- 会员权益：清晰展示付费会员的特权

### 7. 用户界面
- 响应式设计：适配不同尺寸的设备屏幕
- 平滑动画：页面切换和元素加载时的流畅动画效果
- 主题设计：现代简约的UI设计和一致的视觉主题
- 引导式交互：简单易懂的用户引导和交互流程

## 技术栈

- **React**：前端框架
- **TypeScript**：类型安全的JavaScript超集
- **Tailwind CSS**：实用工具优先的CSS框架
- **Lucide React**：图标库
- **Marked**：Markdown渲染库
- **Stripe JS**：支付集成
- **Vite**：构建工具和开发服务器

## 安装与使用

### 环境要求
- Node.js 16+
- npm 或 yarn

### 安装步骤

1. 克隆仓库
```bash
git clone <仓库地址>
cd frontend
```

2. 安装依赖
```bash
npm install
# 或
yarn install
```

3. 配置环境变量
创建`.env`文件并设置后端API地址：
```
VITE_API_URL=http://localhost:8000
```

4. 启动开发服务器
```bash
npm run dev
# 或
yarn dev
```

5. 构建生产版本
```bash
npm run build
# 或
yarn build
```

## 项目结构

```
src/
├── assets/         # 静态资源文件
├── components/     # React组件
│   ├── Auth.tsx    # 认证相关组件
│   ├── Chat.tsx    # 聊天相关组件
│   ├── PaymentModal.tsx  # 支付模态框组件
│   ├── PaidFeaturePage.tsx  # 付费功能页面
│   ├── QuestionnairePage.tsx  # 问卷调查页面
│   └── ReportPreview.tsx  # 报告预览组件
├── App.tsx         # 主应用组件
├── main.tsx        # 应用入口文件
├── styles.css      # 自定义样式
└── index.css       # 基础样式和Tailwind配置
```

## 使用流程

1. 用户注册/登录账户
2. 选择服务模式（模拟对话或解决方案）
3. 填写PUA情境表单（类型、严重程度、描述等）
4. 与AI助手进行对话，获取相应的模拟训练或解决方案
5. 完成问卷调查，获取个性化人设战略报告
6. 查看、打印或保存个性化报告
7. 随时回顾历史对话记录，继续之前的对话

## API接口

前端与后端通过以下API接口进行通信：

- `/register`: 用户注册
- `/login`: 用户登录
- `/send_code`: 发送验证码
- `/verify_code`: 验证码登录
- `/chat`: 发送聊天消息并获取回复
- `/user/questionnaires`: 获取用户问卷列表
- `/preview/{id}`: 获取报告预览内容
- `/api/activate-free-access`: 激活限时免费访问
- 更多接口详见后端文档

## 开发注意事项

- 所有敏感信息（如API密钥）应存储在环境变量中
- 遵循组件化开发和TypeScript类型定义
- 确保响应式设计在各种设备上正常工作
- 优化图片和动画，确保良好的性能体验

## 贡献指南

1. Fork 项目仓库
2. 创建功能分支 (`git checkout -b feature/AmazingFeature`)
3. 提交更改 (`git commit -m 'Add some AmazingFeature'`)
4. 推送到分支 (`git push origin feature/AmazingFeature`)
5. 提交Pull Request

## 许可证

[适用的许可证类型] 